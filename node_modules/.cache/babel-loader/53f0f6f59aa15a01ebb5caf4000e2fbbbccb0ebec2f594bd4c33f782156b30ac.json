{"ast":null,"code":"var _jsxFileName = \"/Users/nikita/Fse-Project-React/src/components/profile/login.js\",\n  _s = $RefreshSig$();\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport * as userService from \"../../services/users-service\";\nimport React from \"react\";\nimport { UserList } from \"./user-list\";\nimport * as authService from \"../../services/auth-service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n  const [existingUsers, setExistingUsers] = useState([]);\n  // {username: 'user1', email: 'user1', password: 'user1', _id: '123'}\n  // ]);\n  const [newUser, setNewUser] = useState({});\n  const [loginUser, setLoginUser] = useState({});\n  const navigate = useNavigate();\n  const login = () => authService.login(loginUser).then(user => navigate('/profile/mytuits')).catch(e => alert(e));\n  const register = () => authService.signup(newUser).then(() => navigate('/profile')).catch(e => alert(e));\n  const deleteUser = uid => userService.deleteUser(uid).then(findAllUsers);\n  const findAllUsers = () => userService.findAllUsers().then(users => {\n    setExistingUsers(users);\n  });\n  useEffect(findAllUsers, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"mb-2 form-control\",\n      onChange: e => setNewUser({\n        ...newUser,\n        username: e.target.value\n      }),\n      placeholder: \"username\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"mb-2 form-control\",\n      onChange: e => setNewUser({\n        ...newUser,\n        password: e.target.value\n      }),\n      placeholder: \"password\",\n      type: \"password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"mb-2 form-control\",\n      onChange: e => setNewUser({\n        ...newUser,\n        email: e.target.value\n      }),\n      placeholder: \"email\",\n      type: \"email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: register,\n      className: \"btn btn-primary mb-5\",\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"mb-2 form-control\",\n      onChange: e => setLoginUser({\n        ...loginUser,\n        username: e.target.value\n      }),\n      placeholder: \"username\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"mb-2 form-control\",\n      onChange: e => setLoginUser({\n        ...loginUser,\n        password: e.target.value\n      }),\n      placeholder: \"password\",\n      type: \"password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: login,\n      className: \"btn btn-primary mb-5\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login As\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(UserList, {\n      users: existingUsers,\n      deleteUser: deleteUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"Wa/CCCFqACB2C8JD39eCtipUfoI=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Link","useNavigate","useEffect","useState","userService","React","UserList","authService","Login","existingUsers","setExistingUsers","newUser","setNewUser","loginUser","setLoginUser","navigate","login","then","user","catch","e","alert","register","signup","deleteUser","uid","findAllUsers","users","username","target","value","password","email"],"sources":["/Users/nikita/Fse-Project-React/src/components/profile/login.js"],"sourcesContent":["import {Link, useNavigate} from \"react-router-dom\";\nimport {useEffect, useState} from \"react\";\nimport * as userService from \"../../services/users-service\";\nimport React from \"react\";\nimport {UserList} from \"./user-list\";\nimport * as authService from \"../../services/auth-service\"\n\nexport const Login = () => {\n    const [existingUsers, setExistingUsers] = useState([]);\n    // {username: 'user1', email: 'user1', password: 'user1', _id: '123'}\n    // ]);\n    const [newUser, setNewUser] = useState({});\n    const [loginUser, setLoginUser] = useState({});\n    const navigate = useNavigate();\n    const login = () =>\n        authService.login(loginUser)\n          .then((user) => navigate('/profile/mytuits'))\n          .catch(e => alert(e));\n    const register = () =>\n        authService.signup(newUser)\n            .then(() => navigate('/profile'))\n            .catch(e => alert(e));\n    const deleteUser = (uid) =>\n        userService.deleteUser(uid)\n            .then(findAllUsers)\n    const findAllUsers = () =>\n        userService.findAllUsers()\n            .then(users => {\n                setExistingUsers(users)\n            })\n    useEffect(findAllUsers, []);\n\n    return (\n        <div>\n          <h1>Register</h1>\n          <input className=\"mb-2 form-control\"\n                 onChange={(e) =>\n                   setNewUser({...newUser, username: e.target.value})}\n                 placeholder=\"username\"/>\n          <input className=\"mb-2 form-control\"\n                 onChange={(e) =>\n                   setNewUser({...newUser, password: e.target.value})}\n                 placeholder=\"password\" type=\"password\"/>\n          <input className=\"mb-2 form-control\"\n                 onChange={(e) =>\n                   setNewUser({...newUser, email: e.target.value})}\n                 placeholder=\"email\" type=\"email\"/>\n          <button onClick={register} className=\"btn btn-primary mb-5\">Register\n          </button>\n\n          <h1>Login</h1>\n          <input className=\"mb-2 form-control\"\n                 onChange={(e) =>\n                   setLoginUser({...loginUser, username: e.target.value})}\n                 placeholder=\"username\"/>\n          <input className=\"mb-2 form-control\"\n                 onChange={(e) =>\n                   setLoginUser({...loginUser, password: e.target.value})}\n                 placeholder=\"password\" type=\"password\"/>\n          <button onClick={login} className=\"btn btn-primary mb-5\">Login</button>\n\n          <h1>Login As</h1>\n\n          <UserList users={existingUsers} deleteUser={deleteUser}/>\n\n        </div>\n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}